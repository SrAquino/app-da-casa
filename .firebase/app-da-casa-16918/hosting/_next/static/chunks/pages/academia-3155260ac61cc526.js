(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{3824:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/academia",function(){return s(3352)}])},8636:(e,a,s)=>{"use strict";s.d(a,{A:()=>d});var t=s(4848),r=s(6540),i=s(1106),n=s.n(i),c=s(3914),o=s(2490),l=s.n(o);let d=()=>{let[e,a]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"".concat(l().sidebar," ").concat(e?l().expanded:l().collapsed),children:[(0,t.jsx)("button",{onClick:()=>{a(!e)},className:l().toggleButton,children:e?"Esconder":(0,t.jsx)(c.OXb,{})}),(0,t.jsx)("h2",{children:"Menu"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/controle-de-gastos",children:e?"Controle de Gastos":(0,t.jsx)(c.MxO,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/analise-gastos",children:e?"Gr\xe1ficos":(0,t.jsx)(c.qvi,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/lista-de-compras",children:e?"Lista de Compras":(0,t.jsx)(c.AsH,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/analise-mercado",children:e?"Pre\xe7os de mercado":(0,t.jsx)(c.qvi,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/moedas-da-casa",children:e?"Moedas da Casa":(0,t.jsx)(c.cEG,{})})}),(0,t.jsx)("li",{children:(0,t.jsx)(n(),{href:"/academia",children:e?"Academia":(0,t.jsx)(c.bB,{})})})]})]})}},3352:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var t=s(4848),r=s(6540),i=s(8636),n=s(7794),c=s(1884),o=s(7400),l=s(4731),d=s(6118);d.t1.register(...d.$L);var h=s(7759),u=s.n(h);let m=()=>{let[e,a]=(0,r.useState)([]),[s,d]=(0,r.useState)({name:"",category:"Superior"}),[h,m]=(0,r.useState)({}),[x,j]=(0,r.useState)([]),[_,p]=(0,r.useState)([]),[g,v]=(0,r.useState)(""),[S,b]=(0,r.useState)(new Date().toISOString().split("T")[0]),{user:f}=(0,o.A)(),C=["Superior","Inferior","Abdomem"];(0,r.useEffect)(()=>{(0,n.q7)().then(e=>a(e)).catch(e=>console.error("Error fetching exercises:",e))},[]),(0,r.useEffect)(()=>{let e=sessionStorage.getItem("workoutList"),a=sessionStorage.getItem("workoutDate");e&&j(JSON.parse(e)),a&&b(a)},[]),(0,r.useEffect)(()=>{sessionStorage.setItem("workoutList",JSON.stringify(x)),sessionStorage.setItem("workoutDate",S)},[x,S]);let k=e=>{m(a=>({...a,[e]:!a[e]}))},E=s=>{(0,n._s)(s,f.email).then(t=>{a(e.map(e=>e.id===s?t:e))}).catch(e=>console.error("Error updating exercise status:",e))},w=s=>{(0,c.kd)((0,c.H9)(n.db,"exercises",s)).then(()=>{a(e.filter(e=>e.id!==s))}).catch(e=>console.error("Error deleting exercise:",e))},N=(e,a,s)=>{j(x.map(t=>t.id===e?{...t,[a]:s}:t))},B=e=>{(0,n.cO)(e).then(e=>p(e)).catch(e=>console.error("Error fetching workout data:",e))};(0,r.useEffect)(()=>{g&&B(g)},[g]);let y=(e,a)=>e.reduce((e,s,t)=>e+s*a[t],0),A={labels:_.map(e=>e.date),datasets:[{label:"Desempenho",data:_.map(e=>y(e.reps,e.weights)),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]};return(0,t.jsxs)("div",{className:u().container,children:[(0,t.jsx)(i.A,{}),(0,t.jsxs)("div",{className:u().content,children:[(0,t.jsx)("h1",{children:"Academia"}),(0,t.jsxs)("div",{className:u().exerciseSection,children:[(0,t.jsx)("h2",{children:"Exerc\xedcios Cadastrados"}),C.map(a=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{children:[a,(0,t.jsx)("button",{onClick:()=>k(a),className:u().expandButton,children:h[a]?"Esconder":"Exibir"})]}),(0,t.jsx)("ul",{className:"".concat(u().list," ").concat(h[a]?"":u().hiddenList),children:e.filter(e=>e.category===a).map(e=>(0,t.jsxs)("li",{className:e.activeUsers.includes(f.email)?"":u().inactiveExercise,children:[e.name,(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>E(e.id),className:u().statusButton,children:e.activeUsers.includes(f.email)?"Inativar":"Ativar"}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:u().deleteButton,children:"Excluir"})]})]},e.id))})]},a)),(0,t.jsxs)("div",{className:u().addExercise,children:[(0,t.jsx)("input",{type:"text",value:s.name,onChange:e=>d({...s,name:e.target.value}),placeholder:"Adicionar novo exerc\xedcio"}),(0,t.jsx)("select",{value:s.category,onChange:e=>d({...s,category:e.target.value}),children:C.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("button",{onClick:()=>{""!==s.name.trim()&&(0,n.WV)(s).then(s=>{a([...e,s]),d({name:"",category:"Superior"})}).catch(e=>console.error("Error adding exercise:",e))},children:"Adicionar"})]})]}),(0,t.jsxs)("div",{className:u().workoutSection,children:[(0,t.jsx)("h2",{children:"Fazer Treino"}),(0,t.jsxs)("label",{children:["Data do Treino:",(0,t.jsx)("input",{type:"date",value:S,onChange:e=>b(e.target.value)})]}),(0,t.jsx)("button",{onClick:()=>{j(e.filter(e=>e.activeUsers.includes(f.email)).sort((e,a)=>e.name.localeCompare(a.name)).map(e=>({...e,series:0,reps:[],weights:[]})))},children:"Iniciar Treino"}),x.length>0&&(0,t.jsxs)("div",{children:[C.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:e}),x.filter(a=>a.category===e).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{children:e.name}),(0,t.jsxs)("label",{children:["S\xe9ries:",(0,t.jsx)("input",{type:"number",value:e.series,onChange:a=>N(e.id,"series",a.target.value)})]}),[...Array(Number(e.series))].map((a,s)=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{children:["Reps:",(0,t.jsx)("input",{type:"number",value:e.reps[s]||"",onChange:a=>{let t=[...e.reps];t[s]=a.target.value,N(e.id,"reps",t)}})]}),(0,t.jsxs)("label",{children:["Peso:",(0,t.jsx)("input",{type:"number",value:e.weights[s]||"",onChange:a=>{let t=[...e.weights];t[s]=a.target.value,N(e.id,"weights",t)}})]})]},s))]},e.id))]},e)),(0,t.jsx)("button",{onClick:()=>{let e=x.map(e=>({...e,date:S}));(0,n.vK)(e).then(()=>{j([]),sessionStorage.removeItem("workoutList"),sessionStorage.removeItem("workoutDate"),alert("Treino finalizado com sucesso!")}).catch(e=>console.error("Error saving workout:",e))},children:"Finalizar Treino"}),(0,t.jsx)("button",{onClick:()=>{window.confirm("Tem certeza de que deseja cancelar o treino?")&&(j([]),sessionStorage.removeItem("workoutList"),sessionStorage.removeItem("workoutDate"))},className:u().cancelButton,children:"Cancelar Treino"})]})]}),(0,t.jsxs)("div",{className:u().performanceSection,children:[(0,t.jsx)("h2",{children:"Conferir Desempenho"}),(0,t.jsxs)("select",{value:g,onChange:e=>v(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Selecione um exerc\xedcio"}),e.sort((e,a)=>e.name.localeCompare(a.name)).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),_.length>0&&(0,t.jsx)("div",{className:u().chartContainer,children:(0,t.jsx)(l.N1,{data:A})})]})]})]})}},2490:e=>{e.exports={sidebar:"Sidebar_sidebar__HYpoR",collapsed:"Sidebar_collapsed__jq1k3",toggleButton:"Sidebar_toggleButton__u5PL9",expanded:"Sidebar_expanded__t69bD"}},7759:e=>{e.exports={container:"academia_container__05fMY",content:"academia_content__0Ps_I",exerciseSection:"academia_exerciseSection__LA9HU",workoutSection:"academia_workoutSection__ng7_Y",performanceSection:"academia_performanceSection__F1FV9",list:"academia_list__eRvY9",hiddenList:"academia_hiddenList__FLZF_",inactiveExercise:"academia_inactiveExercise__29rsN",expandButton:"academia_expandButton__nXLd_",statusButton:"academia_statusButton__EsKPQ",deleteButton:"academia_deleteButton__DFj0z",cancelButton:"academia_cancelButton__gKTTl",chartContainer:"academia_chartContainer__SACrd",addExercise:"academia_addExercise__dnTlf"}}},e=>{var a=a=>e(e.s=a);e.O(0,[563,201,705,888,636,593,792],()=>a(3824)),_N_E=e.O()}]);